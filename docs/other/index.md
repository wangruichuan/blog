## 性能优化，前端能做的不多

我们在前端面试的时候，这个性能优化是一个必考的问题，然后面试的时候会问你性能优化的方式，然后你还需要去准备一下，像八股文一样去背诵，去想一下项目中应用的场景对吧。但是有没有发现一个问题，面试虽然在问，但是实际工作中，你性能优化的场景或者说机会到底有多少？真实的一些工作场景其实并不多对吧，所以说，面试和工作其实是一对矛盾，面试造火箭，工作拧螺丝是一种常态。

我想说的是，在实际工作中，性能优化，前端能做的不多，我们来详细分析一下这个性能优化，在实际工作中，我们需要做的其实无非就这么几个：**拆分、异步、缓存**

对于缓存，比如说vue的computed，还有react的useMemo，这些。其实这些缓存用的并不多，有哪些场景是必须用的吗，大量计算的场景其实非常少，这种场景其实并不多。

拆分就是说你的JS包比较大，然后你拆分出来，一般配合着异步加载的，其实一个项目不是特别大，达到了几M这么大，你拆不拆分影响都不是很大。比如说你拆分之后JS的包减少了100KB，一般来说我们如果网络非常好再配合这个CDN加持，这个100KB的体积基本上是看不出来的，所以说，在网络、CDN和浏览器的一些缓存策略的加持下，这100kb基本上是看不出什么区别来的。还有就是现在TCP传输都会有压缩，比如说常见的这种GZIP压缩，一般会压缩到原本的三分之一大小，所以说，你看似优化了100kb，实际上真正优化的也就30kb。所以说前端的这种拆分资源，减少资源的优化方式在整个网络、缓存包括压缩CDN这种技术面前，其实是看不出来什么区别的，所以说大部分情况下你用压缩，拆分看不出来区别。

也就是一个web系统，你从全栈的角度去看的话，它的性能瓶颈不可能在前端。一般情况下会在网络层面和服务端，网络层面就比如说你的网络是不是就近部署的，有没有用CDN。后端因为数据库的存在，对于数据库表的设计啊，加密等要求，导致没有一个统一的解决方案，所以说前端很少会成为这个全栈项目的性能瓶颈。

当然，前端不能做性能优化。但是，我们可以通过一些手段去做体验优化，这个也是非常重要的一点，就比如说这种图片懒加载，可能会让你浏览更丝滑等等。

